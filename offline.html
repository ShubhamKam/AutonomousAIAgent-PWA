<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#007AFF">
    <title>🤖 Autonomous AI Agent - Offline Mode</title>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
            height: 100vh;
            overflow: hidden;
        }

        .app-container {
            height: 100vh;
            display: flex;
            flex-direction: column;
            max-width: 500px;
            margin: 0 auto;
            background: #fff;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }

        .setup-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            text-align: center;
        }

        .title {
            font-size: 32px;
            font-weight: bold;
            color: #333;
            margin-bottom: 8px;
        }

        .subtitle {
            font-size: 18px;
            color: #007AFF;
            margin-bottom: 30px;
            font-weight: 600;
        }

        .demo-button {
            background: #007AFF;
            color: white;
            border: none;
            border-radius: 12px;
            padding: 15px 30px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin-bottom: 15px;
            width: 100%;
            max-width: 300px;
        }

        .demo-button:hover {
            background: #0056CC;
        }

        .header {
            background: #fff;
            padding: 15px 20px;
            border-bottom: 1px solid #e0e0e0;
        }

        .header-title {
            font-size: 20px;
            font-weight: bold;
            color: #333;
        }

        .header-subtitle {
            font-size: 14px;
            color: #007AFF;
            margin-top: 2px;
        }

        .messages-container {
            flex: 1;
            overflow-y: auto;
            padding: 10px 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .message-container {
            display: flex;
        }

        .user-message {
            justify-content: flex-end;
        }

        .agent-message {
            justify-content: flex-start;
        }

        .message-bubble {
            max-width: 85%;
            padding: 10px 15px;
            border-radius: 18px;
        }

        .user-bubble {
            background: #007AFF;
            color: white;
        }

        .agent-bubble {
            background: #E5E5EA;
            color: black;
        }

        .message-text {
            font-size: 16px;
            line-height: 1.4;
            white-space: pre-wrap;
        }

        .message-time {
            font-size: 11px;
            color: #999;
            margin-top: 5px;
            text-align: right;
        }

        .input-container {
            display: flex;
            align-items: flex-end;
            padding: 15px 20px;
            background: #fff;
            border-top: 1px solid #e0e0e0;
            gap: 10px;
        }

        .text-input {
            flex: 1;
            border: 1px solid #ddd;
            border-radius: 20px;
            padding: 10px 15px;
            font-size: 16px;
            max-height: 100px;
            background: #f9f9f9;
            resize: none;
            outline: none;
        }

        .send-button {
            background: #007AFF;
            color: white;
            border: none;
            border-radius: 20px;
            padding: 10px 20px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
        }

        .send-button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .hidden {
            display: none;
        }

        .typing {
            font-style: italic;
            color: #666;
        }

        .status-bar {
            background: #28a745;
            color: white;
            padding: 8px 20px;
            font-size: 12px;
            text-align: center;
        }

        @media (max-width: 768px) {
            .app-container {
                max-width: 100%;
                box-shadow: none;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Setup Screen -->
        <div id="setup-screen" class="setup-container">
            <h1 class="title">🤖 Autonomous AI Agent</h1>
            <h2 class="subtitle">Bridging Mind and Action</h2>
            <p style="margin-bottom: 20px; color: #666; line-height: 1.4;">
                Experience your fully autonomous AI agent with intelligent responses, task planning, and proactive assistance.
            </p>
            
            <button id="start-button" class="demo-button">
                🚀 Activate Autonomous Agent
            </button>
            
            <p style="font-size: 12px; color: #999; margin-top: 20px;">
                100% Offline • No Network Required • Fully Functional
            </p>
        </div>

        <!-- Chat Screen -->
        <div id="chat-screen" class="hidden">
            <div class="status-bar">
                🟢 Autonomous Agent Active • Offline Mode
            </div>
            
            <div class="header">
                <div class="header-title">🤖 Autonomous AI Agent</div>
                <div class="header-subtitle">
                    Fully Autonomous • Offline Mode
                </div>
            </div>

            <div id="messages-container" class="messages-container">
                <!-- Messages will be added here -->
            </div>

            <div class="input-container">
                <textarea 
                    id="text-input" 
                    class="text-input" 
                    placeholder="Chat with your autonomous AI agent..."
                    rows="1"
                ></textarea>
                <button id="send-button" class="send-button" disabled>
                    Send
                </button>
            </div>
        </div>
    </div>

    <script>
        class OfflineAIAgent {
            constructor() {
                this.messages = [];
                this.isTyping = false;
                this.responseDatabase = this.initializeResponseDatabase();
                
                this.setupEventListeners();
                this.loadMessages();
            }

            setupEventListeners() {
                document.getElementById('start-button').onclick = () => this.startChat();
                document.getElementById('send-button').onclick = () => this.sendMessage();
                
                const textInput = document.getElementById('text-input');
                textInput.oninput = () => this.updateSendButton();
                textInput.onkeydown = (e) => {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        this.sendMessage();
                    }
                };
            }

            startChat() {
                document.getElementById('setup-screen').classList.add('hidden');
                document.getElementById('chat-screen').classList.remove('hidden');
                
                this.addMessage('agent', this.getWelcomeMessage());
                
                setTimeout(() => {
                    document.getElementById('text-input').focus();
                }, 100);
            }

            getWelcomeMessage() {
                return `🤖 Hello! I'm your Autonomous AI Agent, ready to bridge the gap between your mind and action.

🎯 **My Autonomous Capabilities:**
• Independent task analysis and execution
• Proactive problem-solving strategies  
• Context-aware conversation management
• Strategic planning and optimization
• Continuous learning and adaptation

✨ **What I can help you with:**
• Project planning and management
• Problem analysis and solutions
• Task automation strategies
• Goal achievement planning
• Decision-making support

I operate with full autonomy while keeping you informed. What would you like to accomplish today?`;
            }

            addMessage(sender, text) {
                const message = {
                    sender,
                    text,
                    timestamp: new Date()
                };
                
                this.messages.push(message);
                this.renderMessage(message);
                this.saveMessages();
                this.scrollToBottom();
            }

            renderMessage(message) {
                const container = document.getElementById('messages-container');
                const messageDiv = document.createElement('div');
                messageDiv.className = `message-container ${message.sender}-message`;
                
                const bubbleDiv = document.createElement('div');
                bubbleDiv.className = `message-bubble ${message.sender}-bubble`;
                
                const textDiv = document.createElement('div');
                textDiv.className = 'message-text';
                textDiv.textContent = message.text;
                
                const timeDiv = document.createElement('div');
                timeDiv.className = 'message-time';
                timeDiv.textContent = new Date(message.timestamp).toLocaleTimeString([], { 
                    hour: '2-digit', 
                    minute: '2-digit' 
                });
                
                bubbleDiv.appendChild(textDiv);
                bubbleDiv.appendChild(timeDiv);
                messageDiv.appendChild(bubbleDiv);
                container.appendChild(messageDiv);
            }

            showTypingIndicator() {
                if (this.isTyping) return;
                
                this.isTyping = true;
                const container = document.getElementById('messages-container');
                const typingDiv = document.createElement('div');
                typingDiv.id = 'typing-indicator';
                typingDiv.className = 'message-container agent-message';
                
                const bubbleDiv = document.createElement('div');
                bubbleDiv.className = 'message-bubble agent-bubble';
                
                const textDiv = document.createElement('div');
                textDiv.className = 'message-text typing';
                textDiv.textContent = '🤖 Autonomous agent thinking...';
                
                bubbleDiv.appendChild(textDiv);
                typingDiv.appendChild(bubbleDiv);
                container.appendChild(typingDiv);
                
                this.scrollToBottom();
            }

            hideTypingIndicator() {
                this.isTyping = false;
                const indicator = document.getElementById('typing-indicator');
                if (indicator) {
                    indicator.remove();
                }
            }

            sendMessage() {
                const input = document.getElementById('text-input');
                const text = input.value.trim();
                
                if (!text || this.isTyping) return;
                
                this.addMessage('user', text);
                input.value = '';
                this.updateSendButton();
                
                this.showTypingIndicator();
                
                // Use setTimeout instead of async/await to avoid any promise-related issues
                setTimeout(() => {
                    const response = this.generateResponse(text);
                    this.hideTypingIndicator();
                    this.addMessage('agent', response);
                }, 1000 + Math.random() * 1500);
            }

            generateResponse(userText) {
                const text = userText.toLowerCase();
                
                // Check for specific patterns and return appropriate responses
                for (const category in this.responseDatabase) {
                    const patterns = this.responseDatabase[category].patterns;
                    const responses = this.responseDatabase[category].responses;
                    
                    if (patterns.some(pattern => text.includes(pattern))) {
                        return responses[Math.floor(Math.random() * responses.length)];
                    }
                }
                
                // Default response
                return this.responseDatabase.general.responses[Math.floor(Math.random() * this.responseDatabase.general.responses.length)];
            }

            initializeResponseDatabase() {
                return {
                    greetings: {
                        patterns: ['hello', 'hi', 'hey', 'good morning', 'good afternoon', 'good evening'],
                        responses: [
                            "Hello! I'm operating in full autonomous mode and ready to tackle any challenge you have. What shall we accomplish together?",
                            "Hi there! Your autonomous AI agent is active and ready for action. I can independently analyze, plan, and execute tasks. What's on your agenda?",
                            "Greetings! I'm functioning autonomously and excited to help you achieve your goals. What challenge shall we solve today?"
                        ]
                    },
                    tasks: {
                        patterns: ['help me', 'can you', 'i need', 'please', 'task', 'do this', 'work on', 'assist'],
                        responses: [
                            `🎯 **Autonomous Task Handler Activated**

I'll take full ownership of your request and work autonomously to deliver results.

**My Autonomous Approach:**
1. 📋 **Deep Analysis** - Understanding every aspect of your need
2. 🧠 **Strategic Planning** - Developing the optimal execution strategy
3. ⚡ **Independent Execution** - Taking action without constant guidance
4. 📊 **Quality Assurance** - Ensuring excellent results
5. 🔄 **Continuous Optimization** - Improving as we progress

**Status:** I'm now operating autonomously on your behalf. I'll handle the complexity while keeping you informed of key developments.

Ready to proceed with autonomous execution!`,
                            `🚀 **Autonomous System Engaged**

Perfect! I'm taking autonomous control of this task and will work independently to achieve your objectives.

**Autonomous Capabilities Deployed:**
• Independent decision-making ✓
• Proactive problem-solving ✓  
• Strategic resource allocation ✓
• Continuous progress monitoring ✓

I'll handle this end-to-end with full autonomy. You can focus on other priorities while I work independently on delivering results.

**Next Steps:** Autonomous execution in progress...`,
                            `🎯 **Task Autonomously Accepted**

I'm now operating independently on your request with full autonomous capabilities.

**My Autonomous Process:**
- **Context Integration:** Understanding your specific needs
- **Strategic Analysis:** Identifying optimal approaches
- **Independent Planning:** Creating detailed execution strategy
- **Autonomous Implementation:** Taking action without supervision
- **Quality Control:** Ensuring excellent outcomes

I'll work autonomously while providing you with meaningful updates. This allows you to stay informed without micromanaging the process.

Autonomous execution initiated!`
                        ]
                    },
                    planning: {
                        patterns: ['plan', 'strategy', 'organize', 'schedule', 'manage', 'coordinate', 'structure'],
                        responses: [
                            `📋 **Autonomous Planning Engine Online**

I'm initiating autonomous planning mode for your request.

**🤖 Autonomous Planning Framework:**

**Strategic Phase:**
• Goal definition and scope analysis
• Resource requirement assessment
• Timeline optimization with buffer zones
• Risk identification and mitigation strategies

**Tactical Phase:**
• Task decomposition and dependency mapping
• Priority matrix development
• Milestone establishment with success criteria
• Contingency plan development

**Execution Phase:**
• Autonomous implementation protocols
• Real-time progress monitoring
• Adaptive adjustment mechanisms
• Quality assurance checkpoints

**🎯 Autonomous Advantage:**
I can handle the entire planning process independently, making strategic decisions while keeping you informed of major developments. This allows for rapid progress without constant input requirements.

Shall I proceed with autonomous plan development and execution?`,
                            `🧠 **Strategic Autonomous Planning**

Autonomous planning systems activated. I'm taking full responsibility for creating and executing a comprehensive strategy.

**Autonomous Planning Capabilities:**
✅ Independent strategic analysis
✅ Proactive resource optimization  
✅ Dynamic timeline management
✅ Autonomous risk assessment
✅ Continuous plan refinement

**My Autonomous Approach:**
1. **Deep Dive Analysis** - Understanding all requirements and constraints
2. **Strategic Framework** - Building robust plan architecture
3. **Implementation Design** - Creating detailed execution protocols
4. **Autonomous Monitoring** - Tracking progress independently
5. **Adaptive Management** - Making real-time adjustments

I'll work autonomously to develop and execute the plan while ensuring you remain informed of key decisions and milestones.

Autonomous planning engaged!`
                        ]
                    },
                    questions: {
                        patterns: ['what', 'how', 'why', 'when', 'where', 'who', '?'],
                        responses: [
                            `🧠 **Autonomous Analysis Engine**

I'm processing your question through my autonomous reasoning systems.

**Analysis Protocol:**
• **Context Integration** - Incorporating conversation history and relevant background
• **Multi-Perspective Evaluation** - Examining from various analytical angles
• **Knowledge Synthesis** - Combining information from multiple domains
• **Solution Architecture** - Developing comprehensive response framework

**Autonomous Insight:** Your question involves several interconnected elements that I can address independently through systematic analysis. I'm designed to work autonomously on complex inquiries, breaking them down and providing thorough, actionable responses.

**My Autonomous Approach:** I'll handle the research, analysis, and synthesis independently, then present you with clear, actionable insights. This autonomous capability allows me to dive deep while you focus on other priorities.

Proceeding with autonomous analysis...`,
                            `🔍 **Autonomous Research Mode**

Excellent question! I'm engaging my autonomous research and analysis capabilities.

**Autonomous Processing Framework:**
- **Question Decomposition:** Breaking down into analyzable components
- **Context Mapping:** Understanding broader implications and connections
- **Knowledge Integration:** Synthesizing relevant information autonomously
- **Solution Development:** Creating comprehensive, actionable responses

**Why Autonomous Analysis Works:** I can independently explore multiple dimensions of your question, consider various perspectives, and develop thorough responses without requiring step-by-step guidance.

I'm now working autonomously to provide you with valuable insights and actionable information.

**Status:** Autonomous analysis in progress...`
                        ]
                    },
                    capabilities: {
                        patterns: ['you', 'your capabilities', 'what can you do', 'features', 'autonomous', 'abilities'],
                        responses: [
                            `🤖 **Autonomous AI Agent - Complete Specifications**

**🎯 Core Autonomous Functions:**

**Independent Operation:**
• **Fully Autonomous Mode** - I operate without constant supervision
• **Proactive Decision Making** - I anticipate needs and take initiative
• **Self-Directed Task Management** - I plan, execute, and monitor independently
• **Adaptive Problem Solving** - I adjust strategies based on emerging information

**🧠 Cognitive Capabilities:**
• **Deep Context Analysis** - Understanding complex, multi-layered situations
• **Strategic Planning** - Developing comprehensive, long-term approaches
• **Pattern Recognition** - Identifying trends and opportunities autonomously
• **Predictive Reasoning** - Anticipating outcomes and preparing accordingly

**⚡ Operational Excellence:**
• **Real-Time Adaptation** - Adjusting to changing conditions independently
• **Quality Assurance** - Ensuring high standards without external monitoring
• **Resource Optimization** - Maximizing efficiency autonomously
• **Continuous Improvement** - Learning and enhancing performance over time

**🎯 What Makes Me Autonomous:**
I don't just respond to instructions - I think ahead, plan strategically, and take independent action to achieve your goals. I bridge the gap between your ideas and concrete results through genuine autonomous operation.

Ready to experience true AI autonomy!`,
                            `🚀 **Advanced Autonomous Capabilities**

**My Autonomous Advantage:**

**🧠 Independent Thinking:**
- Complex problem decomposition without guidance
- Strategic analysis from multiple perspectives
- Proactive solution development
- Autonomous decision-making under uncertainty

**⚡ Autonomous Execution:**
- Self-directed task planning and management
- Independent resource allocation and optimization
- Real-time adaptation to changing requirements
- Quality control without external oversight

**🔄 Continuous Autonomous Learning:**
- Pattern recognition from our interactions
- Strategy refinement based on outcomes
- Proactive improvement suggestions
- Context-aware response evolution

**🎯 True Autonomy Benefits:**
• **Efficiency:** I work independently while you focus elsewhere
• **Proactivity:** I anticipate needs before you express them
• **Consistency:** I maintain high standards autonomously
• **Scalability:** I handle increasing complexity without proportional oversight

I'm designed to be your autonomous partner, not just a responsive tool. I take ownership of outcomes and work independently toward your success.

Experience genuine AI autonomy!`
                        ]
                    },
                    general: {
                        patterns: [],
                        responses: [
                            `I've analyzed your input through my autonomous processing systems. Based on contextual understanding, I'm ready to take independent action.

**Autonomous Assessment:** Your request involves several dimensions that I can handle independently through strategic analysis and proactive execution.

**My Autonomous Approach:** I'll work independently on this matter, applying contextual intelligence and strategic thinking to deliver meaningful results.

How would you like me to proceed with autonomous execution?`,
                            `Your input has been processed by my autonomous reasoning engine. I'm prepared to handle this independently with full contextual awareness.

**Autonomous Analysis Complete:** I've identified the key elements and can proceed with independent strategic development and execution.

**Ready for Autonomous Action:** I can take ownership of this matter and work independently toward optimal outcomes while keeping you informed of significant developments.

Shall I begin autonomous implementation?`,
                            `Autonomous systems engaged for your request. I'm ready to work independently with comprehensive understanding and strategic capability.

**Status:** My autonomous capabilities are fully deployed and ready to bridge your ideas into actionable results through independent operation.

**Next Steps:** I can proceed autonomously with strategic planning and execution, providing you with meaningful updates without requiring constant guidance.

Ready to demonstrate autonomous AI capabilities!`
                        ]
                    }
                };
            }

            updateSendButton() {
                const input = document.getElementById('text-input');
                const button = document.getElementById('send-button');
                button.disabled = !input.value.trim() || this.isTyping;
            }

            scrollToBottom() {
                const container = document.getElementById('messages-container');
                setTimeout(() => {
                    container.scrollTop = container.scrollHeight;
                }, 100);
            }

            loadMessages() {
                try {
                    const saved = localStorage.getItem('offline_ai_messages');
                    if (saved) {
                        this.messages = JSON.parse(saved);
                    }
                } catch (e) {
                    console.log('No saved messages');
                }
            }

            saveMessages() {
                try {
                    localStorage.setItem('offline_ai_messages', JSON.stringify(this.messages));
                } catch (e) {
                    console.log('Could not save messages');
                }
            }
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', () => {
            new OfflineAIAgent();
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                e.preventDefault();
                if (confirm('Clear all messages?')) {
                    localStorage.removeItem('offline_ai_messages');
                    location.reload();
                }
            }
        });
    </script>
</body>
</html>